var xe=Object.defineProperty;var $e=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>($e(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function X(){}function ye(e){return e()}function de(){return Object.create(null)}function Q(e){e.forEach(ye)}function be(e){return typeof e=="function"}function Le(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let z;function he(e,t){return e===t?!0:(z||(z=document.createElement("a")),z.href=t,e===z.href)}function ke(e){return Object.keys(e).length===0}function u(e,t){e.appendChild(t)}function ee(e,t,n){e.insertBefore(t,n||null)}function K(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function ge(e){return document.createTextNode(e)}function L(){return ge(" ")}function Ce(){return ge("")}function M(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function I(e){return e===""?null:+e}function Ae(e){return Array.from(e.childNodes)}function O(e,t){e.value=t??""}let J;function W(e){J=e}function Me(){if(!J)throw new Error("Function called outside component initialization");return J}function Oe(e){Me().$$.on_mount.push(e)}const F=[],me=[];let D=[];const _e=[],Re=Promise.resolve();let le=!1;function je(){le||(le=!0,Re.then(we))}function ie(e){D.push(e)}const ae=new Set;let B=0;function we(){if(B!==0)return;const e=J;do{try{for(;B<F.length;){const t=F[B];B++,W(t),Te(t.$$)}}catch(t){throw F.length=0,B=0,t}for(W(null),F.length=0,B=0;me.length;)me.pop()();for(let t=0;t<D.length;t+=1){const n=D[t];ae.has(n)||(ae.add(n),n())}D.length=0}while(F.length);for(;_e.length;)_e.pop()();le=!1,ae.clear(),W(e)}function Te(e){if(e.fragment!==null){e.update(),Q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ie)}}function Ie(e){const t=[],n=[];D.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),D=t}const Pe=new Set;function Ne(e,t){e&&e.i&&(Pe.delete(e),e.i(t))}function Ue(e,t,n){const{fragment:r,after_update:a}=e.$$;r&&r.m(t,n),ie(()=>{const l=e.$$.on_mount.map(ye).filter(be);e.$$.on_destroy?e.$$.on_destroy.push(...l):Q(l),e.$$.on_mount=[]}),a.forEach(ie)}function Be(e,t){const n=e.$$;n.fragment!==null&&(Ie(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Fe(e,t){e.$$.dirty[0]===-1&&(F.push(e),je(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function De(e,t,n,r,a,l,p=null,b=[-1]){const d=J;W(e);const o=e.$$={fragment:null,ctx:[],props:l,update:X,not_equal:a,bound:de(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:de(),dirty:b,skip_bound:!1,root:t.target||d.$$.root};p&&p(o.root);let i=!1;if(o.ctx=n?n(e,t.props||{},(f,s,..._)=>{const R=_.length?_[0]:s;return o.ctx&&a(o.ctx[f],o.ctx[f]=R)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](R),i&&Fe(e,f)),s}):[],o.update(),i=!0,Q(o.before_update),o.fragment=r?r(o.ctx):!1,t.target){if(t.hydrate){const f=Ae(t.target);o.fragment&&o.fragment.l(f),f.forEach(K)}else o.fragment&&o.fragment.c();t.intro&&Ne(e.$$.fragment),Ue(e,t.target,t.anchor),we()}W(d)}class He{constructor(){re(this,"$$");re(this,"$$set")}$destroy(){Be(this,1),this.$destroy=X}$on(t,n){if(!be(n))return X;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}$set(t){this.$$set&&!ke(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const qe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qe);function Ge(e){if(e==null)throw new Error("Value is nullish.")}function Ve(e){for(var t=0,n=2166136261;t<e.length;t++)n=Math.imul(n^e.charCodeAt(t),16777619);n+=n<<13,n^=n>>>7,n+=n<<3,n^=n>>>17;let r=(n+=n<<5)>>>0,a=()=>(2**31-1&(r=Math.imul(48271,r)))/2**31;return a(),a}function G(e,t){const n=document.createElement("canvas"),r=n.getContext("2d");if(n.width=e,n.height=t,!r)throw new Error("Could not create context.");return{canvas:n,context:r,width:e,height:t,destroy(){n.width=0,n.height=0}}}function Ke(e,t,n){const r=t.getImageData(0,0,e.width,e.height),a=r.data;for(let l=0;l<a.length;l+=4){const p=a[l+0],b=a[l+1],d=a[l+2],o=a[l+3],i=(p+b+d)/3,f=Math.round(i/255*n)*255/n;a[l+0]=f,a[l+1]=f,a[l+2]=f,a[l+3]=Math.round(o/255)*255}t.putImageData(r,0,0)}function We({gridSize:e,dotScale:t,lineScale:n,width:r,height:a,posterizationRange:l,seed:p}){const b=Ve(p);function d(v,E,g,h){v.fillStyle="black",v.beginPath(),v.arc(E,g,h,0,Math.PI*2),v.closePath(),v.fill()}function o(v,E,g,h,c,C){v.lineWidth=C,v.strokeStyle="black",v.beginPath(),v.moveTo(E,g),v.lineTo(h,c),v.stroke()}function i({width:v,height:E},g,h){const c=G(e,e);d(c.context,0,0,h),d(c.context,e,0,h),d(c.context,0,e,h),d(c.context,e,e,h),d(c.context,e*.5,e*.5,h);const C=g.createPattern(c.canvas,"repeat");Ge(C),g.fillStyle=C,g.fillRect(0,0,v,E),c.destroy()}function f({width:v,height:E},g,h){const c=G(e,e);o(c.context,0,0,e,e,h),c.context.save(),c.context.translate(e*.5,e*-.5),o(c.context,0,0,e,e,h),c.context.restore(),c.context.translate(e*-.5,e*.5),o(c.context,0,0,e,e,h);const C=G(e,e);C.context.translate(e,0),C.context.scale(-1,1),C.context.drawImage(c.canvas,0,0);const T=G(e,e);T.context.drawImage(c.canvas,0,0),T.context.drawImage(C.canvas,0,0);const P=[c,C,T],Y=P.length;for(let $=0;$<v;$+=e)for(let U=0;U<E;U+=e){const N=P[Math.floor(b()*Y)];g.drawImage(N.canvas,$,U)}P.forEach($=>$.destroy())}const s=G(r,a);s.context.fillStyle="white",s.context.fillRect(0,0,r,a);const _=e*t*.33,R=_*n*2;f(s.canvas,s.context,R),i(s.canvas,s.context,_),Ke(s.canvas,s.context,l);const x=s.canvas.toDataURL();return s.destroy(),x}var V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={exports:{}};(function(e,t){(function(n,r){r()})(V,function(){function n(o,i){return typeof i>"u"?i={autoBom:!1}:typeof i!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function r(o,i,f){var s=new XMLHttpRequest;s.open("GET",o),s.responseType="blob",s.onload=function(){d(s.response,i,f)},s.onerror=function(){console.error("could not download file")},s.send()}function a(o){var i=new XMLHttpRequest;i.open("HEAD",o,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function l(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}}var p=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof V=="object"&&V.global===V?V:void 0,b=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=p.saveAs||(typeof window!="object"||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(o,i,f){var s=p.URL||p.webkitURL,_=document.createElement("a");i=i||o.name||"download",_.download=i,_.rel="noopener",typeof o=="string"?(_.href=o,_.origin===location.origin?l(_):a(_.href)?r(o,i,f):l(_,_.target="_blank")):(_.href=s.createObjectURL(o),setTimeout(function(){s.revokeObjectURL(_.href)},4e4),setTimeout(function(){l(_)},0))}:"msSaveOrOpenBlob"in navigator?function(o,i,f){if(i=i||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(n(o,f),i);else if(a(o))r(o,i,f);else{var s=document.createElement("a");s.href=o,s.target="_blank",setTimeout(function(){l(s)})}}:function(o,i,f,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof o=="string")return r(o,i,f);var _=o.type==="application/octet-stream",R=/constructor/i.test(p.HTMLElement)||p.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||_&&R||b)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var h=v.result;h=x?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=h:location=h,s=null},v.readAsDataURL(o)}else{var E=p.URL||p.webkitURL,g=E.createObjectURL(o);s?s.location=g:location.href=g,s=null,setTimeout(function(){E.revokeObjectURL(g)},4e4)}});p.saveAs=d.saveAs=d,e.exports=d})})(Ee);var Xe=Ee.exports;function ve(e){let t,n;return{c(){t=y("img"),he(t.src,n=e[6])||m(t,"src",n),m(t,"alt","The cool sonic texture"),m(t,"class","svelte-4ott4o")},m(r,a){ee(r,t,a)},p(r,a){a&64&&!he(t.src,n=r[6])&&m(t,"src",n)},d(r){r&&K(t)}}}function Je(e){let t,n,r,a,l,p,b,d,o,i,f,s,_,R,x,v,E,g,h,c,C,T,P,Y,$,U,N,te,se,j,ue,Z,ce,H,fe,S,ne,q,oe,pe,k=e[6]&&ve(e);return{c(){t=y("form"),n=y("label"),r=y("p"),r.textContent="width",a=L(),l=y("input"),p=L(),b=y("label"),d=y("p"),d.textContent="height",o=L(),i=y("input"),f=L(),s=y("label"),_=y("p"),_.textContent="grid size",R=L(),x=y("input"),v=L(),E=y("label"),g=y("p"),g.textContent="dot",h=L(),c=y("input"),C=L(),T=y("label"),P=y("p"),P.textContent="line",Y=L(),$=y("input"),U=L(),N=y("label"),te=y("p"),te.textContent="posterization",se=L(),j=y("input"),ue=L(),Z=y("button"),Z.textContent="generate",ce=L(),H=y("button"),H.textContent="save texture",fe=L(),S=y("p"),S.innerHTML=`Made by <a href="https://twitter.com/GnarlyNarley" target="_blank" rel="noopener noreferrer">Narley</a>
    with help from
    <a href="https://twitter.com/EroCopi" rel="noopener noreferrer">thehumancopier</a>, get
    <a href="https://thehumancopier.gumroad.com/l/crvee" rel="noopener noreferrer">here</a> his action for Clip Studio Paint.`,ne=L(),k&&k.c(),q=Ce(),m(l,"type","number"),m(i,"type","number"),m(x,"step",1),m(x,"type","range"),m(x,"min",5),m(x,"max",80),m(c,"step",.1),m(c,"type","range"),m(c,"min",0),m(c,"max",1),m($,"step",.1),m($,"type","range"),m($,"min",0),m($,"max",1),m(j,"step",1),m(j,"type","range"),m(j,"min",1),m(j,"max",5),m(Z,"type","submit"),m(H,"type","button"),m(S,"class","credits svelte-4ott4o"),m(t,"class","svelte-4ott4o")},m(w,A){ee(w,t,A),u(t,n),u(n,r),u(n,a),u(n,l),O(l,e[3]),u(t,p),u(t,b),u(b,d),u(b,o),u(b,i),O(i,e[4]),u(t,f),u(t,s),u(s,_),u(s,R),u(s,x),O(x,e[0]),u(t,v),u(t,E),u(E,g),u(E,h),u(E,c),O(c,e[1]),u(t,C),u(t,T),u(T,P),u(T,Y),u(T,$),O($,e[2]),u(t,U),u(t,N),u(N,te),u(N,se),u(N,j),O(j,e[5]),u(t,ue),u(t,Z),u(t,ce),u(t,H),u(t,fe),u(t,S),ee(w,ne,A),k&&k.m(w,A),ee(w,q,A),oe||(pe=[M(l,"input",e[9]),M(i,"input",e[10]),M(x,"change",e[11]),M(x,"input",e[11]),M(c,"change",e[12]),M(c,"input",e[12]),M($,"change",e[13]),M($,"input",e[13]),M(j,"change",e[14]),M(j,"input",e[14]),M(H,"click",e[8]),M(t,"submit",e[7])],oe=!0)},p(w,[A]){A&8&&I(l.value)!==w[3]&&O(l,w[3]),A&16&&I(i.value)!==w[4]&&O(i,w[4]),A&1&&O(x,w[0]),A&2&&O(c,w[1]),A&4&&O($,w[2]),A&32&&O(j,w[5]),w[6]?k?k.p(w,A):(k=ve(w),k.c(),k.m(q.parentNode,q)):k&&(k.d(1),k=null)},i:X,o:X,d(w){w&&(K(t),K(ne),K(q)),k&&k.d(w),oe=!1,Q(pe)}}}function Qe(e,t,n){let r=30,a=.5,l=.5,p=500,b=500,d=2,o=null;i();function i(){const h=Math.random().toString(),c=We({gridSize:r,dotScale:a,lineScale:l,width:p,height:b,seed:h,posterizationRange:d});return n(6,o=c),c}function f(h){h.preventDefault(),i()}function s(){o&&Xe.saveAs(o,"texture.png")}Oe(()=>i());function _(){p=I(this.value),n(3,p)}function R(){b=I(this.value),n(4,b)}function x(){r=I(this.value),n(0,r)}function v(){a=I(this.value),n(1,a)}function E(){l=I(this.value),n(2,l)}function g(){d=I(this.value),n(5,d)}return[r,a,l,p,b,d,o,f,s,_,R,x,v,E,g]}class Ye extends He{constructor(t){super(),De(this,t,Qe,Je,Le,{})}}new Ye({target:document.getElementById("app")});
