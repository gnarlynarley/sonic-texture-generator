var lt=Object.defineProperty;var rt=(e,t,n)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ee=(e,t,n)=>(rt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function de(){}function he(e,t){for(const n in t)e[n]=t[n];return e}function Qe(e){return e()}function He(){return Object.create(null)}function K(e){e.forEach(Qe)}function Ye(e){return typeof e=="function"}function Ze(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let fe;function $e(e,t){return e===t?!0:(fe||(fe=document.createElement("a")),fe.href=t,e===fe.href)}function st(e){return Object.keys(e).length===0}function ut(e,t,n,o){if(e){const l=Se(e,t,n,o);return e[0](l)}}function Se(e,t,n,o){return e[1]&&o?he(n.ctx.slice(),e[1](o(t))):n.ctx}function it(e,t,n,o){if(e[2]&&o){const l=e[2](o(n));if(t.dirty===void 0)return l;if(typeof l=="object"){const s=[],i=Math.max(t.dirty.length,l.length);for(let h=0;h<i;h+=1)s[h]=t.dirty[h]|l[h];return s}return t.dirty|l}return t.dirty}function ct(e,t,n,o,l,s){if(l){const i=Se(t,n,o,s);e.p(i,l)}}function at(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function qe(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function f(e,t){e.appendChild(t)}function P(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function ft(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function se(e){return document.createTextNode(e)}function w(){return se(" ")}function pt(){return se("")}function R(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const dt=["width","height"];function Ge(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)t[o]==null?e.removeAttribute(o):o==="style"?e.style.cssText=t[o]:o==="__value"?e.value=e[o]=t[o]:n[o]&&n[o].set&&dt.indexOf(o)===-1?e[o]=t[o]:m(e,o,t[o])}function F(e){return e===""?null:+e}function ht(e){return Array.from(e.childNodes)}function T(e,t){e.value=t??""}function Ve(e,t,n){for(let o=0;o<e.options.length;o+=1){const l=e.options[o];if(l.__value===t){l.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function mt(e){const t=e.querySelector(":checked");return t&&t.__value}function J(e,t,n){e.classList.toggle(t,!!n)}let re;function le(e){re=e}function gt(){if(!re)throw new Error("Function called outside component initialization");return re}function _t(e){gt().$$.on_mount.push(e)}function yt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(o=>o.call(this,t))}const Y=[],Ke=[];let z=[];const We=[],bt=Promise.resolve();let ke=!1;function vt(){ke||(ke=!0,bt.then(ze))}function me(e){z.push(e)}const Le=new Set;let Q=0;function ze(){if(Q!==0)return;const e=re;do{try{for(;Q<Y.length;){const t=Y[Q];Q++,le(t),wt(t.$$)}}catch(t){throw Y.length=0,Q=0,t}for(le(null),Y.length=0,Q=0;Ke.length;)Ke.pop()();for(let t=0;t<z.length;t+=1){const n=z[t];Le.has(n)||(Le.add(n),n())}z.length=0}while(Y.length);for(;We.length;)We.pop()();ke=!1,Le.clear(),le(e)}function wt(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(me)}}function Et(e){const t=[],n=[];z.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),z=t}const pe=new Set;let V;function Lt(){V={r:0,c:[],p:V}}function Ot(){V.r||K(V.c),V=V.p}function H(e,t){e&&e.i&&(pe.delete(e),e.i(t))}function S(e,t,n,o){if(e&&e.o){if(pe.has(e))return;pe.add(e),V.c.push(()=>{pe.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function kt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Mt(e,t){const n={},o={},l={$$scope:1};let s=e.length;for(;s--;){const i=e[s],h=t[s];if(h){for(const a in i)a in h||(o[a]=1);for(const a in h)l[a]||(n[a]=h[a],l[a]=1);e[s]=h}else for(const a in i)l[a]=1}for(const i in o)i in n||(n[i]=void 0);return n}function Me(e){e&&e.c()}function ge(e,t,n){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),me(()=>{const s=e.$$.on_mount.map(Qe).filter(Ye);e.$$.on_destroy?e.$$.on_destroy.push(...s):K(s),e.$$.on_mount=[]}),l.forEach(me)}function _e(e,t){const n=e.$$;n.fragment!==null&&(Et(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(e,t){e.$$.dirty[0]===-1&&(Y.push(e),vt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function et(e,t,n,o,l,s,i=null,h=[-1]){const a=re;le(e);const r=e.$$={fragment:null,ctx:[],props:s,update:de,not_equal:l,bound:He(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:He(),dirty:h,skip_bound:!1,root:t.target||a.$$.root};i&&i(r.root);let u=!1;if(r.ctx=n?n(e,t.props||{},(p,d,...g)=>{const O=g.length?g[0]:d;return r.ctx&&l(r.ctx[p],r.ctx[p]=O)&&(!r.skip_bound&&r.bound[p]&&r.bound[p](O),u&&Ct(e,p)),d}):[],r.update(),u=!0,K(r.before_update),r.fragment=o?o(r.ctx):!1,t.target){if(t.hydrate){const p=ht(t.target);r.fragment&&r.fragment.l(p),p.forEach(x)}else r.fragment&&r.fragment.c();t.intro&&H(e.$$.fragment),ge(e,t.target,t.anchor),ze()}le(a)}class tt{constructor(){Ee(this,"$$");Ee(this,"$$set")}$destroy(){_e(this,1),this.$destroy=de}$on(t,n){if(!Ye(n))return de;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!st(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const At="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(At);function Rt(e){if(e==null)throw new Error("Value is nullish.")}function jt(e){for(var t=0,n=2166136261;t<e.length;t++)n=Math.imul(n^e.charCodeAt(t),16777619);n+=n<<13,n^=n>>>7,n+=n<<3,n^=n>>>17;let o=(n+=n<<5)>>>0,l=()=>(2**31-1&(o=Math.imul(48271,o)))/2**31;return l(),l}function Z(e,t){const n=document.createElement("canvas"),o=n.getContext("2d");if(n.width=e,n.height=t,!o)throw new Error("Could not create context.");return{canvas:n,context:o,width:e,height:t,destroy(){n.width=0,n.height=0}}}function xt(e,t,n){const o=t.getImageData(0,0,e.width,e.height),l=o.data;for(let s=0;s<l.length;s+=4){const i=l[s+0],h=l[s+1],a=l[s+2],r=l[s+3],u=(i+h+a)/3,p=Math.round(u/255*n)*255/n;l[s+0]=p,l[s+1]=p,l[s+2]=p,l[s+3]=Math.round(r/255)*255}t.putImageData(o,0,0)}function ne(e,t,n,o){e.fillStyle="black",e.beginPath(),e.arc(t,n,o,0,Math.PI*2),e.closePath(),e.fill()}function Oe(e,t,n,o,l,s){e.lineWidth=s,e.strokeStyle="black",e.beginPath(),e.moveTo(t,n),e.lineTo(o,l),e.stroke()}function It({gridSize:e,dotScale:t,lineScale:n,width:o,height:l,posterizationRange:s,seed:i}){const h=jt(i);function a({width:g,height:O},E,y){const c=Z(e,e);ne(c.context,0,0,y),ne(c.context,e,0,y),ne(c.context,0,e,y),ne(c.context,e,e,y),ne(c.context,e*.5,e*.5,y);const _=E.createPattern(c.canvas,"repeat");Rt(_),E.fillStyle=_,E.fillRect(0,0,g,O),c.destroy()}function r({width:g,height:O},E,y){const c=Z(e,e);Oe(c.context,0,0,e,e,y),c.context.save(),c.context.translate(e*.5,e*-.5),Oe(c.context,0,0,e,e,y),c.context.restore(),c.context.translate(e*-.5,e*.5),Oe(c.context,0,0,e,e,y);const _=Z(e,e);_.context.translate(e,0),_.context.scale(-1,1),_.context.drawImage(c.canvas,0,0);const L=Z(e,e);L.context.drawImage(c.canvas,0,0),L.context.drawImage(_.canvas,0,0);const U=[c,_,L],$=U.length;for(let N=0;N<g;N+=e)for(let C=0;C<O;C+=e){const W=U[Math.floor(h()*$)];E.drawImage(W.canvas,N,C)}U.forEach(N=>N.destroy())}const u=Z(o,l);u.context.fillStyle="white",u.context.fillRect(0,0,o,l);const p=e*t*.33,d=p*n*2;return r(u.canvas,u.context,d),a(u.canvas,u.context,p),xt(u.canvas,u.context,s),u.canvas}var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt={exports:{}};(function(e,t){(function(n,o){o()})(oe,function(){function n(r,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}function o(r,u,p){var d=new XMLHttpRequest;d.open("GET",r),d.responseType="blob",d.onload=function(){a(d.response,u,p)},d.onerror=function(){console.error("could not download file")},d.send()}function l(r){var u=new XMLHttpRequest;u.open("HEAD",r,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(u)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof oe=="object"&&oe.global===oe?oe:void 0,h=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(r,u,p){var d=i.URL||i.webkitURL,g=document.createElement("a");u=u||r.name||"download",g.download=u,g.rel="noopener",typeof r=="string"?(g.href=r,g.origin===location.origin?s(g):l(g.href)?o(r,u,p):s(g,g.target="_blank")):(g.href=d.createObjectURL(r),setTimeout(function(){d.revokeObjectURL(g.href)},4e4),setTimeout(function(){s(g)},0))}:"msSaveOrOpenBlob"in navigator?function(r,u,p){if(u=u||r.name||"download",typeof r!="string")navigator.msSaveOrOpenBlob(n(r,p),u);else if(l(r))o(r,u,p);else{var d=document.createElement("a");d.href=r,d.target="_blank",setTimeout(function(){s(d)})}}:function(r,u,p,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof r=="string")return o(r,u,p);var g=r.type==="application/octet-stream",O=/constructor/i.test(i.HTMLElement)||i.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||g&&O||h)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var L=y.result;L=E?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=L:location=L,d=null},y.readAsDataURL(r)}else{var c=i.URL||i.webkitURL,_=c.createObjectURL(r);d?d.location=_:location.href=_,d=null,setTimeout(function(){c.revokeObjectURL(_)},4e4)}});i.saveAs=a.saveAs=a,e.exports=a})})(nt);var Tt=nt.exports;function Pt(e){const t=document.createElement("img");return new Promise((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error("Something went wrong with retrieving the image."))},t.src=e})}const ot={normal:"source-over",multiply:"multiply",overlay:"overlay","soft-light":"soft-light","hard-light":"hard-light"},Ut=Object.keys(ot);function Bt(e,t,n){const{canvas:o,context:l,destroy:s}=Z(e,t);for(const h of n.toReversed()){if(h.image==null)return;l.globalAlpha=h.opacity,l.globalCompositeOperation=ot[h.blendingMode],l.drawImage(h.image,0,0)}const i=o.toDataURL("image/png");return s(),i}function Nt(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(null,o)},t)}}function Dt(e){let t,n,o,l;const s=e[4].default,i=ut(s,e,e[3],null);let h=[e[2]],a={};for(let r=0;r<h.length;r+=1)a=he(a,h[r]);return{c(){t=b("button"),i&&i.c(),Ge(t,a),J(t,"primary",e[0]),J(t,"caution",e[1]),J(t,"svelte-1bsywng",!0)},m(r,u){P(r,t,u),i&&i.m(t,null),t.autofocus&&t.focus(),n=!0,o||(l=R(t,"click",e[5]),o=!0)},p(r,[u]){i&&i.p&&(!n||u&8)&&ct(i,s,r,r[3],n?it(s,r[3],u,null):at(r[3]),null),Ge(t,a=Mt(h,[u&4&&r[2]])),J(t,"primary",r[0]),J(t,"caution",r[1]),J(t,"svelte-1bsywng",!0)},i(r){n||(H(i,r),n=!0)},o(r){S(i,r),n=!1},d(r){r&&x(t),i&&i.d(r),o=!1,l()}}}function Ft(e,t,n){let{$$slots:o={},$$scope:l}=t,{primary:s=!1}=t,{caution:i=!1}=t;function h(a){yt.call(this,e,a)}return e.$$set=a=>{n(2,t=he(he({},t),qe(a))),"primary"in a&&n(0,s=a.primary),"caution"in a&&n(1,i=a.caution),"$$scope"in a&&n(3,l=a.$$scope)},t=qe(t),[s,i,t,l,o,h]}class Ce extends tt{constructor(t){super(),et(this,t,Ft,Dt,Ze,{primary:0,caution:1})}}function Ht(e,t,n){const o=e.slice();return o[27]=t[n],o}function $t(e){let t;return{c(){t=se("generate")},m(n,o){P(n,t,o)},d(n){n&&x(t)}}}function qt(e){let t;return{c(){t=se("save texture")},m(n,o){P(n,t,o)},d(n){n&&x(t)}}}function Xe(e){let t,n,o,l,s,i,h,a,r,u,p,d,g,O,E=kt(Ut),y=[];for(let c=0;c<E.length;c+=1)y[c]=Gt(Ht(e,E,c));return p=new Ce({props:{type:"button",caution:!0,$$slots:{default:[Vt]},$$scope:{ctx:e}}}),p.$on("click",e[13]),{c(){t=b("label"),n=b("p"),n.textContent="Blending mode",o=w(),l=b("select");for(let c=0;c<y.length;c+=1)y[c].c();s=w(),i=b("label"),h=b("p"),h.textContent="Opacity",a=w(),r=b("input"),u=w(),Me(p.$$.fragment),e[4]===void 0&&me(()=>e[25].call(l)),r.value=e[3],m(r,"step",1),m(r,"type","number"),m(r,"min",0),m(r,"max",100),m(r,"class","svelte-18ogzs1")},m(c,_){P(c,t,_),f(t,n),f(t,o),f(t,l);for(let L=0;L<y.length;L+=1)y[L]&&y[L].m(l,null);Ve(l,e[4],!0),P(c,s,_),P(c,i,_),f(i,h),f(i,a),f(i,r),P(c,u,_),ge(p,c,_),d=!0,g||(O=[R(l,"change",e[25]),R(r,"input",e[14])],g=!0)},p(c,_){_&16&&Ve(l,c[4]),(!d||_&8&&r.value!==c[3])&&(r.value=c[3]);const L={};_&1073741824&&(L.$$scope={dirty:_,ctx:c}),p.$set(L)},i(c){d||(H(p.$$.fragment,c),d=!0)},o(c){S(p.$$.fragment,c),d=!1},d(c){c&&(x(t),x(s),x(i),x(u)),ft(y,c),_e(p,c),g=!1,K(O)}}}function Gt(e){let t;return{c(){t=b("option"),t.textContent=`${e[27]}`,t.__value=e[27],T(t,t.__value)},m(n,o){P(n,t,o)},p:de,d(n){n&&x(t)}}}function Vt(e){let t;return{c(){t=se("clear image")},m(n,o){P(n,t,o)},d(n){n&&x(t)}}}function Je(e){let t,n;return{c(){t=b("img"),$e(t.src,n=e[10])||m(t,"src",n),m(t,"alt","The cool sonic texture"),m(t,"class","svelte-18ogzs1")},m(o,l){P(o,t,l)},p(o,l){l&1024&&!$e(t.src,n=o[10])&&m(t,"src",n)},d(o){o&&x(t)}}}function Kt(e){let t,n,o,l,s,i,h,a,r,u,p,d,g,O,E,y,c,_,L,U,$,N,C,W,q,ee,ue,I,ie,A,ye,Ae,B,Re,G,je,D,xe,Ie,Te,X,Pe,be,Ue,Be,ce,ve,te,ae,we,Ne;G=new Ce({props:{type:"submit",primary:!0,$$slots:{default:[$t]},$$scope:{ctx:e}}}),D=new Ce({props:{type:"button",$$slots:{default:[qt]},$$scope:{ctx:e}}}),D.$on("click",e[12]);let k=e[5]&&Xe(e),j=e[10]&&Je(e);return{c(){t=b("details"),n=b("summary"),n.textContent="Options",o=w(),l=b("form"),s=b("label"),i=b("p"),i.textContent="width",h=w(),a=b("input"),r=w(),u=b("label"),p=b("p"),p.textContent="height",d=w(),g=b("input"),O=w(),E=b("label"),y=b("p"),y.textContent="grid size",c=w(),_=b("input"),L=w(),U=b("label"),$=b("p"),$.textContent="dot",N=w(),C=b("input"),W=w(),q=b("label"),ee=b("p"),ee.textContent="line",ue=w(),I=b("input"),ie=w(),A=b("label"),ye=b("p"),ye.textContent="posterization",Ae=w(),B=b("input"),Re=w(),Me(G.$$.fragment),je=w(),Me(D.$$.fragment),xe=w(),Ie=b("hr"),Te=w(),X=b("input"),Pe=w(),k&&k.c(),be=w(),Ue=b("hr"),Be=w(),ce=b("p"),ce.innerHTML=`Made by <a href="https://twitter.com/GnarlyNarley" target="_blank" rel="noopener noreferrer">Narley</a>
      with help from
      <a href="https://twitter.com/EroCopi" rel="noopener noreferrer">thehumancopier</a>, get
      <a href="https://thehumancopier.gumroad.com/l/crvee" rel="noopener noreferrer">here</a> his action for Clip Studio Paint.`,ve=w(),j&&j.c(),te=pt(),m(a,"type","number"),m(a,"class","svelte-18ogzs1"),m(g,"type","number"),m(g,"class","svelte-18ogzs1"),m(_,"step",1),m(_,"type","range"),m(_,"min",5),m(_,"max",80),m(_,"class","svelte-18ogzs1"),m(C,"step",.1),m(C,"type","range"),m(C,"min",0),m(C,"max",1),m(C,"class","svelte-18ogzs1"),m(I,"step",.1),m(I,"type","range"),m(I,"min",0),m(I,"max",1),m(I,"class","svelte-18ogzs1"),m(B,"step",1),m(B,"type","range"),m(B,"min",1),m(B,"max",5),m(B,"class","svelte-18ogzs1"),m(X,"type","file"),m(X,"accept","image/*"),m(X,"class","svelte-18ogzs1"),m(ce,"class","credits svelte-18ogzs1"),m(l,"class","svelte-18ogzs1"),m(t,"class","controls svelte-18ogzs1"),t.open=!0},m(v,M){P(v,t,M),f(t,n),f(t,o),f(t,l),f(l,s),f(s,i),f(s,h),f(s,a),T(a,e[1]),f(l,r),f(l,u),f(u,p),f(u,d),f(u,g),T(g,e[2]),f(l,O),f(l,E),f(E,y),f(E,c),f(E,_),T(_,e[6]),f(l,L),f(l,U),f(U,$),f(U,N),f(U,C),T(C,e[7]),f(l,W),f(l,q),f(q,ee),f(q,ue),f(q,I),T(I,e[8]),f(l,ie),f(l,A),f(A,ye),f(A,Ae),f(A,B),T(B,e[9]),f(l,Re),ge(G,l,null),f(l,je),ge(D,l,null),f(l,xe),f(l,Ie),f(l,Te),f(l,X),f(l,Pe),k&&k.m(l,null),f(l,be),f(l,Ue),f(l,Be),f(l,ce),P(v,ve,M),j&&j.m(v,M),P(v,te,M),ae=!0,we||(Ne=[R(a,"input",e[18]),R(g,"input",e[19]),R(_,"change",e[20]),R(_,"input",e[20]),R(C,"change",e[21]),R(C,"input",e[21]),R(I,"change",e[22]),R(I,"input",e[22]),R(B,"change",e[23]),R(B,"input",e[23]),R(X,"change",e[24]),R(l,"submit",e[11])],we=!0)},p(v,[M]){M&2&&F(a.value)!==v[1]&&T(a,v[1]),M&4&&F(g.value)!==v[2]&&T(g,v[2]),M&64&&T(_,v[6]),M&128&&T(C,v[7]),M&256&&T(I,v[8]),M&512&&T(B,v[9]);const De={};M&1073741824&&(De.$$scope={dirty:M,ctx:v}),G.$set(De);const Fe={};M&1073741824&&(Fe.$$scope={dirty:M,ctx:v}),D.$set(Fe),v[5]?k?(k.p(v,M),M&32&&H(k,1)):(k=Xe(v),k.c(),H(k,1),k.m(l,be)):k&&(Lt(),S(k,1,1,()=>{k=null}),Ot()),v[10]?j?j.p(v,M):(j=Je(v),j.c(),j.m(te.parentNode,te)):j&&(j.d(1),j=null)},i(v){ae||(H(G.$$.fragment,v),H(D.$$.fragment,v),H(k),ae=!0)},o(v){S(G.$$.fragment,v),S(D.$$.fragment,v),S(k),ae=!1},d(v){v&&(x(t),x(ve),x(te)),_e(G),_e(D),k&&k.d(),j&&j.d(v),we=!1,K(Ne)}}}function Wt(e,t,n){let o,l,s=null,i=10,h=.7,a=.5,r=500,u=500,p=2,d,g=20,O="overlay",E=null,y=null;async function c(){const A=Math.random().toString();n(15,d=It({gridSize:i,dotScale:h,lineScale:a,width:r,height:u,seed:A,posterizationRange:p}))}function _(A){A.preventDefault(),c()}function L(){l&&Tt.saveAs(l,"texture.png")}function U(){n(0,s=null)}const $=Nt(A=>{n(3,g=A.target.value)});_t(()=>c());function N(){r=F(this.value),n(1,r),n(16,y),n(17,o),n(0,s)}function C(){u=F(this.value),n(2,u),n(16,y),n(17,o),n(0,s)}function W(){i=F(this.value),n(6,i)}function q(){h=F(this.value),n(7,h)}function ee(){a=F(this.value),n(8,a)}function ue(){p=F(this.value),n(9,p)}function I(){s=this.files,n(0,s)}function ie(){O=mt(this),n(4,O)}return e.$$.update=()=>{e.$$.dirty&1&&n(17,o=(s==null?void 0:s[0])??null),e.$$.dirty&196608&&(y&&URL.revokeObjectURL(y),o?n(16,y=URL.createObjectURL(o)):(n(16,y=null),n(5,E=null)),y&&Pt(y).then(A=>{n(5,E=A),n(1,r=A.width),n(2,u=A.height),c()})),e.$$.dirty&32830&&n(10,l=Bt(r,u,E?[{image:d,opacity:g/100,blendingMode:O},{image:E,opacity:1,blendingMode:"normal"}]:[{image:d,opacity:1,blendingMode:"normal"}]))},[s,r,u,g,O,E,i,h,a,p,l,_,L,U,$,d,y,o,N,C,W,q,ee,ue,I,ie]}class Xt extends tt{constructor(t){super(),et(this,t,Wt,Kt,Ze,{})}}new Xt({target:document.getElementById("app")});
