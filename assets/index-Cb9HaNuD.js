var mt=Object.defineProperty;var ht=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ce=(e,t,n)=>(ht(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function we(){}function Ee(e,t){for(const n in t)e[n]=t[n];return e}function ot(e){return e()}function Ze(){return Object.create(null)}function G(e){e.forEach(ot)}function lt(e){return typeof e=="function"}function je(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ye;function Je(e,t){return e===t?!0:(ye||(ye=document.createElement("a")),ye.href=t,e===ye.href)}function gt(e){return Object.keys(e).length===0}function rt(e,t,n,o){if(e){const l=st(e,t,n,o);return e[0](l)}}function st(e,t,n,o){return e[1]&&o?Ee(n.ctx.slice(),e[1](o(t))):n.ctx}function ut(e,t,n,o){if(e[2]&&o){const l=e[2](o(n));if(t.dirty===void 0)return l;if(typeof l=="object"){const u=[],s=Math.max(t.dirty.length,l.length);for(let c=0;c<s;c+=1)u[c]=t.dirty[c]|l[c];return u}return t.dirty|l}return t.dirty}function it(e,t,n,o,l,u){if(l){const s=st(t,n,o,u);e.p(s,l)}}function at(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function Qe(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function p(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function R(e){e.parentNode&&e.parentNode.removeChild(e)}function _t(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function se(e){return document.createTextNode(e)}function E(){return se(" ")}function yt(){return se("")}function C(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const bt=["width","height"];function Ye(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)t[o]==null?e.removeAttribute(o):o==="style"?e.style.cssText=t[o]:o==="__value"?e.value=e[o]=t[o]:n[o]&&n[o].set&&bt.indexOf(o)===-1?e[o]=t[o]:h(e,o,t[o])}function q(e){return e===""?null:+e}function vt(e){return Array.from(e.childNodes)}function D(e,t){e.value=t??""}function Se(e,t,n){for(let o=0;o<e.options.length;o+=1){const l=e.options[o];if(l.__value===t){l.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function wt(e){const t=e.querySelector(":checked");return t&&t.__value}function z(e,t,n){e.classList.toggle(t,!!n)}function Et(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}let de;function pe(e){de=e}function ct(){if(!de)throw new Error("Function called outside component initialization");return de}function $t(e){ct().$$.on_mount.push(e)}function Lt(){const e=ct();return(t,n,{cancelable:o=!1}={})=>{const l=e.$$.callbacks[t];if(l){const u=Et(t,n,{cancelable:o});return l.slice().forEach(s=>{s.call(e,u)}),!u.defaultPrevented}return!0}}function kt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(o=>o.call(this,t))}const te=[],ze=[];let re=[];const et=[],Ot=Promise.resolve();let Te=!1;function Mt(){Te||(Te=!0,Ot.then(ft))}function $e(e){re.push(e)}const Ae=new Set;let ee=0;function ft(){if(ee!==0)return;const e=de;do{try{for(;ee<te.length;){const t=te[ee];ee++,pe(t),Ct(t.$$)}}catch(t){throw te.length=0,ee=0,t}for(pe(null),te.length=0,ee=0;ze.length;)ze.pop()();for(let t=0;t<re.length;t+=1){const n=re[t];Ae.has(n)||(Ae.add(n),n())}re.length=0}while(te.length);for(;et.length;)et.pop()();Te=!1,Ae.clear(),pe(e)}function Ct(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($e)}}function At(e){const t=[],n=[];re.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),re=t}const be=new Set;let Q;function Rt(){Q={r:0,c:[],p:Q}}function Tt(){Q.r||G(Q.c),Q=Q.p}function x(e,t){e&&e.i&&(be.delete(e),e.i(t))}function F(e,t,n,o){if(e&&e.o){if(be.has(e))return;be.add(e),Q.c.push(()=>{be.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function jt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function It(e,t){const n={},o={},l={$$scope:1};let u=e.length;for(;u--;){const s=e[u],c=t[u];if(c){for(const i in s)i in c||(o[i]=1);for(const i in c)l[i]||(n[i]=c[i],l[i]=1);e[u]=c}else for(const i in s)l[i]=1}for(const s in o)s in n||(n[s]=void 0);return n}function fe(e){e&&e.c()}function oe(e,t,n){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),$e(()=>{const u=e.$$.on_mount.map(ot).filter(lt);e.$$.on_destroy?e.$$.on_destroy.push(...u):G(u),e.$$.on_mount=[]}),l.forEach($e)}function le(e,t){const n=e.$$;n.fragment!==null&&(At(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(e,t){e.$$.dirty[0]===-1&&(te.push(e),Mt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ie(e,t,n,o,l,u,s=null,c=[-1]){const i=de;pe(e);const r=e.$$={fragment:null,ctx:[],props:u,update:we,not_equal:l,bound:Ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:Ze(),dirty:c,skip_bound:!1,root:t.target||i.$$.root};s&&s(r.root);let a=!1;if(r.ctx=n?n(e,t.props||{},(d,m,...g)=>{const k=g.length?g[0]:m;return r.ctx&&l(r.ctx[d],r.ctx[d]=k)&&(!r.skip_bound&&r.bound[d]&&r.bound[d](k),a&&Pt(e,d)),m}):[],r.update(),a=!0,G(r.before_update),r.fragment=o?o(r.ctx):!1,t.target){if(t.hydrate){const d=vt(t.target);r.fragment&&r.fragment.l(d),d.forEach(R)}else r.fragment&&r.fragment.c();t.intro&&x(e.$$.fragment),oe(e,t.target,t.anchor),ft()}pe(i)}class Pe{constructor(){Ce(this,"$$");Ce(this,"$$set")}$destroy(){le(this,1),this.$destroy=we}$on(t,n){if(!lt(n))return we;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!gt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dt);function Ut(e){if(e==null)throw new Error("Value is nullish.")}function xt(e){for(var t=0,n=2166136261;t<e.length;t++)n=Math.imul(n^e.charCodeAt(t),16777619);n+=n<<13,n^=n>>>7,n+=n<<3,n^=n>>>17;let o=(n+=n<<5)>>>0,l=()=>(2**31-1&(o=Math.imul(48271,o)))/2**31;return l(),l}function ne(e,t){const n=document.createElement("canvas"),o=n.getContext("2d");if(n.width=e,n.height=t,!o)throw new Error("Could not create context.");return{canvas:n,context:o,width:e,height:t,destroy(){n.width=0,n.height=0}}}function Bt(e,t,n){const o=t.getImageData(0,0,e.width,e.height),l=o.data;for(let u=0;u<l.length;u+=4){const s=l[u+0],c=l[u+1],i=l[u+2],r=l[u+3],a=(s+c+i)/3,d=Math.round(a/255*n)*255/n;l[u+0]=d,l[u+1]=d,l[u+2]=d,l[u+3]=Math.round(r/255)*255}t.putImageData(o,0,0)}function ae(e,t,n,o){e.fillStyle="black",e.beginPath(),e.arc(t,n,o,0,Math.PI*2),e.closePath(),e.fill()}function Re(e,t,n,o,l,u){e.lineWidth=u,e.strokeStyle="black",e.beginPath(),e.moveTo(t,n),e.lineTo(o,l),e.stroke()}function Ft({gridSize:e,dotScale:t,lineScale:n,width:o,height:l,posterizationRange:u,seed:s}){const c=xt(s);function i({width:g,height:k},v,w){const f=ne(e,e);ae(f.context,0,0,w),ae(f.context,e,0,w),ae(f.context,0,e,w),ae(f.context,e,e,w),ae(f.context,e*.5,e*.5,w);const y=v.createPattern(f.canvas,"repeat");Ut(y),v.fillStyle=y,v.fillRect(0,0,g,k),f.destroy()}function r({width:g,height:k},v,w){const f=ne(e,e);Re(f.context,0,0,e,e,w),f.context.save(),f.context.translate(e*.5,e*-.5),Re(f.context,0,0,e,e,w),f.context.restore(),f.context.translate(e*-.5,e*.5),Re(f.context,0,0,e,e,w);const y=ne(e,e);y.context.translate(e,0),y.context.scale(-1,1),y.context.drawImage(f.canvas,0,0);const $=ne(e,e);$.context.drawImage(f.canvas,0,0),$.context.drawImage(y.canvas,0,0);const U=[f,y,$],V=U.length;for(let B=0;B<g;B+=e)for(let A=0;A<k;A+=e){const Y=U[Math.floor(c()*V)];v.drawImage(Y.canvas,B,A)}U.forEach(B=>B.destroy())}const a=ne(o,l);a.context.fillStyle="white",a.context.fillRect(0,0,o,l);const d=e*t*.33,m=d*n*2;return r(a.canvas,a.context,m),i(a.canvas,a.context,d),Bt(a.canvas,a.context,u),a.canvas}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pt={exports:{}};(function(e,t){(function(n,o){o()})(ce,function(){function n(r,a){return typeof a>"u"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}function o(r,a,d){var m=new XMLHttpRequest;m.open("GET",r),m.responseType="blob",m.onload=function(){i(m.response,a,d)},m.onerror=function(){console.error("could not download file")},m.send()}function l(r){var a=new XMLHttpRequest;a.open("HEAD",r,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function u(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(a)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ce=="object"&&ce.global===ce?ce:void 0,c=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(r,a,d){var m=s.URL||s.webkitURL,g=document.createElement("a");a=a||r.name||"download",g.download=a,g.rel="noopener",typeof r=="string"?(g.href=r,g.origin===location.origin?u(g):l(g.href)?o(r,a,d):u(g,g.target="_blank")):(g.href=m.createObjectURL(r),setTimeout(function(){m.revokeObjectURL(g.href)},4e4),setTimeout(function(){u(g)},0))}:"msSaveOrOpenBlob"in navigator?function(r,a,d){if(a=a||r.name||"download",typeof r!="string")navigator.msSaveOrOpenBlob(n(r,d),a);else if(l(r))o(r,a,d);else{var m=document.createElement("a");m.href=r,m.target="_blank",setTimeout(function(){u(m)})}}:function(r,a,d,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof r=="string")return o(r,a,d);var g=r.type==="application/octet-stream",k=/constructor/i.test(s.HTMLElement)||s.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||g&&k||c)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var $=w.result;$=v?$:$.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=$:location=$,m=null},w.readAsDataURL(r)}else{var f=s.URL||s.webkitURL,y=f.createObjectURL(r);m?m.location=y:location.href=y,m=null,setTimeout(function(){f.revokeObjectURL(y)},4e4)}});s.saveAs=i.saveAs=i,e.exports=i})})(pt);var Nt=pt.exports;function Ht(e){const t=document.createElement("img");return new Promise((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error("Something went wrong with retrieving the image."))},t.src=e})}const dt={normal:"source-over",multiply:"multiply",overlay:"overlay","soft-light":"soft-light","hard-light":"hard-light"},qt=Object.keys(dt);function Gt(e,t,n){const{canvas:o,context:l,destroy:u}=ne(e,t);for(const c of n.toReversed()){if(c.image==null)return;l.globalAlpha=c.opacity,l.globalCompositeOperation=dt[c.blendingMode],l.drawImage(c.image,0,0)}const s=o.toDataURL("image/png");return u(),s}function Vt(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(null,o)},t)}}function Kt(e){let t,n,o,l;const u=e[4].default,s=rt(u,e,e[3],null);let c=[e[2]],i={};for(let r=0;r<c.length;r+=1)i=Ee(i,c[r]);return{c(){t=b("button"),s&&s.c(),Ye(t,i),z(t,"primary",e[0]),z(t,"caution",e[1]),z(t,"svelte-1bsywng",!0)},m(r,a){T(r,t,a),s&&s.m(t,null),t.autofocus&&t.focus(),n=!0,o||(l=C(t,"click",e[5]),o=!0)},p(r,[a]){s&&s.p&&(!n||a&8)&&it(s,u,r,r[3],n?ut(u,r[3],a,null):at(r[3]),null),Ye(t,i=It(c,[a&4&&r[2]])),z(t,"primary",r[0]),z(t,"caution",r[1]),z(t,"svelte-1bsywng",!0)},i(r){n||(x(s,r),n=!0)},o(r){F(s,r),n=!1},d(r){r&&R(t),s&&s.d(r),o=!1,l()}}}function Wt(e,t,n){let{$$slots:o={},$$scope:l}=t,{primary:u=!1}=t,{caution:s=!1}=t;function c(i){kt.call(this,e,i)}return e.$$set=i=>{n(2,t=Ee(Ee({},t),Qe(i))),"primary"in i&&n(0,u=i.primary),"caution"in i&&n(1,s=i.caution),"$$scope"in i&&n(3,l=i.$$scope)},t=Qe(t),[u,s,t,l,o,c]}class ve extends Pe{constructor(t){super(),Ie(this,t,Wt,Kt,je,{primary:0,caution:1})}}function Xt(e){let t,n,o,l;const u=e[2].default,s=rt(u,e,e[1],null);return{c(){t=E(),s&&s.c()},m(c,i){T(c,t,i),s&&s.m(c,i),n=!0,o||(l=[C(document.body,"dragover",Zt),C(document.body,"dragleave",Jt),C(document.body,"drop",e[0])],o=!0)},p(c,[i]){s&&s.p&&(!n||i&2)&&it(s,u,c,c[1],n?ut(u,c[1],i,null):at(c[1]),null)},i(c){n||(x(s,c),n=!0)},o(c){F(s,c),n=!1},d(c){c&&R(t),s&&s.d(c),o=!1,G(l)}}}function Zt(e){e.preventDefault(),e.stopPropagation()}function Jt(e){e.preventDefault(),e.stopPropagation()}function Qt(e,t,n){let{$$slots:o={},$$scope:l}=t;const u=Lt();function s(i){u("files",i)}function c(i){var r,a;if(i.preventDefault(),i.stopPropagation(),(r=i.dataTransfer)!=null&&r.items){const d=[...i.dataTransfer.items].flatMap((m,g)=>m.kind==="file"?m.getAsFile()??[]:[]);s(d)}else{const d=[...((a=i.dataTransfer)==null?void 0:a.files)??[]].map(m=>m);s(d)}}return e.$$set=i=>{"$$scope"in i&&n(1,l=i.$$scope)},[c,l,o]}class Yt extends Pe{constructor(t){super(),Ie(this,t,Qt,Xt,je,{})}}function St(e,t,n){const o=e.slice();return o[28]=t[n],o}function zt(e){let t;return{c(){t=se("generate")},m(n,o){T(n,t,o)},d(n){n&&R(t)}}}function en(e){let t;return{c(){t=se("save texture")},m(n,o){T(n,t,o)},d(n){n&&R(t)}}}function tn(e){let t;return{c(){t=se("paste from clipboard")},m(n,o){T(n,t,o)},d(n){n&&R(t)}}}function tt(e){let t,n,o,l,u,s,c,i,r,a,d,m,g,k,v=jt(qt),w=[];for(let f=0;f<v.length;f+=1)w[f]=nn(St(e,v,f));return d=new ve({props:{type:"button",caution:!0,$$slots:{default:[on]},$$scope:{ctx:e}}}),d.$on("click",e[14]),{c(){t=b("label"),n=b("p"),n.textContent="Blending mode",o=E(),l=b("select");for(let f=0;f<w.length;f+=1)w[f].c();u=E(),s=b("label"),c=b("p"),c.textContent="Opacity",i=E(),r=b("input"),a=E(),fe(d.$$.fragment),e[4]===void 0&&$e(()=>e[26].call(l)),r.value=e[3],h(r,"step",1),h(r,"type","number"),h(r,"min",0),h(r,"max",100),h(r,"class","svelte-18ogzs1")},m(f,y){T(f,t,y),p(t,n),p(t,o),p(t,l);for(let $=0;$<w.length;$+=1)w[$]&&w[$].m(l,null);Se(l,e[4],!0),T(f,u,y),T(f,s,y),p(s,c),p(s,i),p(s,r),T(f,a,y),oe(d,f,y),m=!0,g||(k=[C(l,"change",e[26]),C(r,"input",e[15])],g=!0)},p(f,y){y[0]&16&&Se(l,f[4]),(!m||y[0]&8&&r.value!==f[3])&&(r.value=f[3]);const $={};y[1]&1&&($.$$scope={dirty:y,ctx:f}),d.$set($)},i(f){m||(x(d.$$.fragment,f),m=!0)},o(f){F(d.$$.fragment,f),m=!1},d(f){f&&(R(t),R(u),R(s),R(a)),_t(w,f),le(d,f),g=!1,G(k)}}}function nn(e){let t;return{c(){t=b("option"),t.textContent=`${e[28]}`,t.__value=e[28],D(t,t.__value)},m(n,o){T(n,t,o)},p:we,d(n){n&&R(t)}}}function on(e){let t;return{c(){t=se("clear image")},m(n,o){T(n,t,o)},d(n){n&&R(t)}}}function nt(e){let t,n;return{c(){t=b("img"),Je(t.src,n=e[10])||h(t,"src",n),h(t,"alt","The cool sonic texture"),h(t,"class","svelte-18ogzs1")},m(o,l){T(o,t,l)},p(o,l){l[0]&1024&&!Je(t.src,n=o[10])&&h(t,"src",n)},d(o){o&&R(t)}}}function ln(e){let t,n,o,l,u,s,c,i,r,a,d,m,g,k,v,w,f,y,$,U,V,B,A,Y,K,ue,me,I,he,W,O,X,P,De,Z,Ue,N,xe,H,Be,Fe,Ne,S,He,Le,qe,Ge,ge,ke,J,Oe,ie,_e,Me,Ve;Z=new ve({props:{type:"submit",primary:!0,$$slots:{default:[zt]},$$scope:{ctx:e}}}),N=new ve({props:{type:"button",$$slots:{default:[en]},$$scope:{ctx:e}}}),N.$on("click",e[13]),H=new ve({props:{type:"button",$$slots:{default:[tn]},$$scope:{ctx:e}}}),H.$on("click",e[16]);let M=e[5]&&tt(e);J=new Yt({}),J.$on("files",e[11]);let j=e[10]&&nt(e);return{c(){t=b("details"),n=b("summary"),n.textContent="Options",o=E(),l=b("form"),u=b("label"),s=b("p"),s.textContent="width",c=E(),i=b("input"),r=E(),a=b("label"),d=b("p"),d.textContent="height",m=E(),g=b("input"),k=E(),v=b("label"),w=b("p"),w.textContent="grid size",f=E(),y=b("input"),$=E(),U=b("label"),V=b("p"),V.textContent="dot",B=E(),A=b("input"),Y=E(),K=b("label"),ue=b("p"),ue.textContent="line",me=E(),I=b("input"),he=E(),W=b("label"),O=b("p"),O.textContent="posterization",X=E(),P=b("input"),De=E(),fe(Z.$$.fragment),Ue=E(),fe(N.$$.fragment),xe=E(),fe(H.$$.fragment),Be=E(),Fe=b("hr"),Ne=E(),S=b("input"),He=E(),M&&M.c(),Le=E(),qe=b("hr"),Ge=E(),ge=b("p"),ge.innerHTML=`Made by <a href="https://twitter.com/GnarlyNarley" target="_blank" rel="noopener noreferrer">Narley</a>
      with help from
      <a href="https://twitter.com/EroCopi" rel="noopener noreferrer">thehumancopier</a>, get
      <a href="https://thehumancopier.gumroad.com/l/crvee" rel="noopener noreferrer">here</a> his action for Clip Studio Paint.`,ke=E(),fe(J.$$.fragment),Oe=E(),j&&j.c(),ie=yt(),h(i,"type","number"),h(i,"class","svelte-18ogzs1"),h(g,"type","number"),h(g,"class","svelte-18ogzs1"),h(y,"step",1),h(y,"type","range"),h(y,"min",5),h(y,"max",80),h(y,"class","svelte-18ogzs1"),h(A,"step",.1),h(A,"type","range"),h(A,"min",0),h(A,"max",1),h(A,"class","svelte-18ogzs1"),h(I,"step",.1),h(I,"type","range"),h(I,"min",0),h(I,"max",1),h(I,"class","svelte-18ogzs1"),h(P,"step",1),h(P,"type","range"),h(P,"min",1),h(P,"max",5),h(P,"class","svelte-18ogzs1"),h(S,"type","file"),h(S,"accept","image/*"),h(S,"class","svelte-18ogzs1"),h(ge,"class","credits svelte-18ogzs1"),h(l,"class","svelte-18ogzs1"),h(t,"class","controls svelte-18ogzs1"),t.open=!0},m(_,L){T(_,t,L),p(t,n),p(t,o),p(t,l),p(l,u),p(u,s),p(u,c),p(u,i),D(i,e[1]),p(l,r),p(l,a),p(a,d),p(a,m),p(a,g),D(g,e[2]),p(l,k),p(l,v),p(v,w),p(v,f),p(v,y),D(y,e[6]),p(l,$),p(l,U),p(U,V),p(U,B),p(U,A),D(A,e[7]),p(l,Y),p(l,K),p(K,ue),p(K,me),p(K,I),D(I,e[8]),p(l,he),p(l,W),p(W,O),p(W,X),p(W,P),D(P,e[9]),p(l,De),oe(Z,l,null),p(l,Ue),oe(N,l,null),p(l,xe),oe(H,l,null),p(l,Be),p(l,Fe),p(l,Ne),p(l,S),p(l,He),M&&M.m(l,null),p(l,Le),p(l,qe),p(l,Ge),p(l,ge),T(_,ke,L),oe(J,_,L),T(_,Oe,L),j&&j.m(_,L),T(_,ie,L),_e=!0,Me||(Ve=[C(i,"input",e[19]),C(g,"input",e[20]),C(y,"change",e[21]),C(y,"input",e[21]),C(A,"change",e[22]),C(A,"input",e[22]),C(I,"change",e[23]),C(I,"input",e[23]),C(P,"change",e[24]),C(P,"input",e[24]),C(S,"input",e[25]),C(l,"submit",e[12])],Me=!0)},p(_,L){L[0]&2&&q(i.value)!==_[1]&&D(i,_[1]),L[0]&4&&q(g.value)!==_[2]&&D(g,_[2]),L[0]&64&&D(y,_[6]),L[0]&128&&D(A,_[7]),L[0]&256&&D(I,_[8]),L[0]&512&&D(P,_[9]);const Ke={};L[1]&1&&(Ke.$$scope={dirty:L,ctx:_}),Z.$set(Ke);const We={};L[1]&1&&(We.$$scope={dirty:L,ctx:_}),N.$set(We);const Xe={};L[1]&1&&(Xe.$$scope={dirty:L,ctx:_}),H.$set(Xe),_[5]?M?(M.p(_,L),L[0]&32&&x(M,1)):(M=tt(_),M.c(),x(M,1),M.m(l,Le)):M&&(Rt(),F(M,1,1,()=>{M=null}),Tt()),_[10]?j?j.p(_,L):(j=nt(_),j.c(),j.m(ie.parentNode,ie)):j&&(j.d(1),j=null)},i(_){_e||(x(Z.$$.fragment,_),x(N.$$.fragment,_),x(H.$$.fragment,_),x(M),x(J.$$.fragment,_),_e=!0)},o(_){F(Z.$$.fragment,_),F(N.$$.fragment,_),F(H.$$.fragment,_),F(M),F(J.$$.fragment,_),_e=!1},d(_){_&&(R(t),R(ke),R(Oe),R(ie)),le(Z),le(N),le(H),M&&M.d(),le(J,_),j&&j.d(_),Me=!1,G(Ve)}}}function rn(e,t,n){let o,l=null,u=10,s=.7,c=.5,i=500,r=500,a=2,d,m=20,g="overlay",k=null,v=null;function w(O){n(0,l=O.detail.at(0)??null)}async function f(){const O=Math.random().toString();n(17,d=Ft({gridSize:u,dotScale:s,lineScale:c,width:i,height:r,seed:O,posterizationRange:a}))}function y(O){O.preventDefault(),f()}function $(){const O=d.toDataURL("image/png");Nt.saveAs(O,"texture.png")}function U(){n(0,l=null)}const V=Vt(O=>{n(3,m=O.target.value)});async function B(){const O=await navigator.clipboard.read();for(const X of O){const P=await X.getType("image/png");n(0,l=P)}}$t(()=>f());function A(){i=q(this.value),n(1,i),n(18,v),n(0,l)}function Y(){r=q(this.value),n(2,r),n(18,v),n(0,l)}function K(){u=q(this.value),n(6,u)}function ue(){s=q(this.value),n(7,s)}function me(){c=q(this.value),n(8,c)}function I(){a=q(this.value),n(9,a)}const he=O=>{var X;n(0,l=((X=O.currentTarget.files)==null?void 0:X[0])??null)};function W(){g=wt(this),n(4,g)}return e.$$.update=()=>{e.$$.dirty[0]&262145&&(v&&URL.revokeObjectURL(v),l?n(18,v=URL.createObjectURL(l)):(n(18,v=null),n(5,k=null)),v&&Ht(v).then(O=>{n(5,k=O),n(1,i=O.width),n(2,r=O.height),f()})),e.$$.dirty[0]&131134&&n(10,o=Gt(i,r,k?[{image:d,opacity:m/100,blendingMode:g},{image:k,opacity:1,blendingMode:"normal"}]:[{image:d,opacity:1,blendingMode:"normal"}]))},[l,i,r,m,g,k,u,s,c,a,o,w,y,$,U,V,B,d,v,A,Y,K,ue,me,I,he,W]}class sn extends Pe{constructor(t){super(),Ie(this,t,rn,ln,je,{},null,[-1,-1])}}new sn({target:document.getElementById("app")});
