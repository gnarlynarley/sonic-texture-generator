var ft=Object.defineProperty;var pt=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>(pt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function ye(){}function be(e,t){for(const n in t)e[n]=t[n];return e}function et(e){return e()}function Ke(){return Object.create(null)}function q(e){e.forEach(et)}function tt(e){return typeof e=="function"}function Te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let he;function We(e,t){return e===t?!0:(he||(he=document.createElement("a")),he.href=t,e===he.href)}function dt(e){return Object.keys(e).length===0}function nt(e,t,n,o){if(e){const l=ot(e,t,n,o);return e[0](l)}}function ot(e,t,n,o){return e[1]&&o?be(n.ctx.slice(),e[1](o(t))):n.ctx}function lt(e,t,n,o){if(e[2]&&o){const l=e[2](o(n));if(t.dirty===void 0)return l;if(typeof l=="object"){const s=[],u=Math.max(t.dirty.length,l.length);for(let c=0;c<u;c+=1)s[c]=t.dirty[c]|l[c];return s}return t.dirty|l}return t.dirty}function rt(e,t,n,o,l,s){if(l){const u=ot(t,n,o,s);e.p(u,l)}}function st(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function Xe(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function d(e,t){e.appendChild(t)}function j(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function mt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function ce(e){return document.createTextNode(e)}function w(){return ce(" ")}function ht(){return ce("")}function C(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const gt=["width","height"];function Ze(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)t[o]==null?e.removeAttribute(o):o==="style"?e.style.cssText=t[o]:o==="__value"?e.value=e[o]=t[o]:n[o]&&n[o].set&&gt.indexOf(o)===-1?e[o]=t[o]:h(e,o,t[o])}function F(e){return e===""?null:+e}function _t(e){return Array.from(e.childNodes)}function P(e,t){e.value=t??""}function Je(e,t,n){for(let o=0;o<e.options.length;o+=1){const l=e.options[o];if(l.__value===t){l.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function yt(e){const t=e.querySelector(":checked");return t&&t.__value}function Y(e,t,n){e.classList.toggle(t,!!n)}function bt(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}let ae;function se(e){ae=e}function ut(){if(!ae)throw new Error("Function called outside component initialization");return ae}function vt(e){ut().$$.on_mount.push(e)}function wt(){const e=ut();return(t,n,{cancelable:o=!1}={})=>{const l=e.$$.callbacks[t];if(l){const s=bt(t,n,{cancelable:o});return l.slice().forEach(u=>{u.call(e,s)}),!s.defaultPrevented}return!0}}function Et(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(o=>o.call(this,t))}const z=[],Qe=[];let te=[];const Ye=[],Lt=Promise.resolve();let Ae=!1;function kt(){Ae||(Ae=!0,Lt.then(it))}function ve(e){te.push(e)}const Me=new Set;let S=0;function it(){if(S!==0)return;const e=ae;do{try{for(;S<z.length;){const t=z[S];S++,se(t),Ot(t.$$)}}catch(t){throw z.length=0,S=0,t}for(se(null),z.length=0,S=0;Qe.length;)Qe.pop()();for(let t=0;t<te.length;t+=1){const n=te[t];Me.has(n)||(Me.add(n),n())}te.length=0}while(z.length);for(;Ye.length;)Ye.pop()();Ae=!1,Me.clear(),se(e)}function Ot(e){if(e.fragment!==null){e.update(),q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}function Mt(e){const t=[],n=[];te.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),te=t}const ge=new Set;let Z;function Ct(){Z={r:0,c:[],p:Z}}function At(){Z.r||q(Z.c),Z=Z.p}function B(e,t){e&&e.i&&(ge.delete(e),e.i(t))}function H(e,t,n,o){if(e&&e.o){if(ge.has(e))return;ge.add(e),Z.c.push(()=>{ge.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function Rt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Tt(e,t){const n={},o={},l={$$scope:1};let s=e.length;for(;s--;){const u=e[s],c=t[s];if(c){for(const i in u)i in c||(o[i]=1);for(const i in c)l[i]||(n[i]=c[i],l[i]=1);e[s]=c}else for(const i in u)l[i]=1}for(const u in o)u in n||(n[u]=void 0);return n}function _e(e){e&&e.c()}function ue(e,t,n){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),ve(()=>{const s=e.$$.on_mount.map(et).filter(tt);e.$$.on_destroy?e.$$.on_destroy.push(...s):q(s),e.$$.on_mount=[]}),l.forEach(ve)}function ie(e,t){const n=e.$$;n.fragment!==null&&(Mt(n.after_update),q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(e,t){e.$$.dirty[0]===-1&&(z.push(e),kt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function je(e,t,n,o,l,s,u=null,c=[-1]){const i=ae;se(e);const r=e.$$={fragment:null,ctx:[],props:s,update:ye,not_equal:l,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:Ke(),dirty:c,skip_bound:!1,root:t.target||i.$$.root};u&&u(r.root);let a=!1;if(r.ctx=n?n(e,t.props||{},(m,p,..._)=>{const k=_.length?_[0]:p;return r.ctx&&l(r.ctx[m],r.ctx[m]=k)&&(!r.skip_bound&&r.bound[m]&&r.bound[m](k),a&&jt(e,m)),p}):[],r.update(),a=!0,q(r.before_update),r.fragment=o?o(r.ctx):!1,t.target){if(t.hydrate){const m=_t(t.target);r.fragment&&r.fragment.l(m),m.forEach(T)}else r.fragment&&r.fragment.c();t.intro&&B(e.$$.fragment),ue(e,t.target,t.anchor),it()}se(i)}class Ie{constructor(){Oe(this,"$$");Oe(this,"$$set")}$destroy(){ie(this,1),this.$destroy=ye}$on(t,n){if(!tt(n))return ye;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!dt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const It="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(It);function $t(e){if(e==null)throw new Error("Value is nullish.")}function Pt(e){for(var t=0,n=2166136261;t<e.length;t++)n=Math.imul(n^e.charCodeAt(t),16777619);n+=n<<13,n^=n>>>7,n+=n<<3,n^=n>>>17;let o=(n+=n<<5)>>>0,l=()=>(2**31-1&(o=Math.imul(48271,o)))/2**31;return l(),l}function ee(e,t){const n=document.createElement("canvas"),o=n.getContext("2d");if(n.width=e,n.height=t,!o)throw new Error("Could not create context.");return{canvas:n,context:o,width:e,height:t,destroy(){n.width=0,n.height=0}}}function Dt(e,t,n){const o=t.getImageData(0,0,e.width,e.height),l=o.data;for(let s=0;s<l.length;s+=4){const u=l[s+0],c=l[s+1],i=l[s+2],r=l[s+3],a=(u+c+i)/3,m=Math.round(a/255*n)*255/n;l[s+0]=m,l[s+1]=m,l[s+2]=m,l[s+3]=Math.round(r/255)*255}t.putImageData(o,0,0)}function le(e,t,n,o){e.fillStyle="black",e.beginPath(),e.arc(t,n,o,0,Math.PI*2),e.closePath(),e.fill()}function Ce(e,t,n,o,l,s){e.lineWidth=s,e.strokeStyle="black",e.beginPath(),e.moveTo(t,n),e.lineTo(o,l),e.stroke()}function Ut({gridSize:e,dotScale:t,lineScale:n,width:o,height:l,posterizationRange:s,seed:u}){const c=Pt(u);function i({width:_,height:k},E,y){const f=ee(e,e);le(f.context,0,0,y),le(f.context,e,0,y),le(f.context,0,e,y),le(f.context,e,e,y),le(f.context,e*.5,e*.5,y);const g=E.createPattern(f.canvas,"repeat");$t(g),E.fillStyle=g,E.fillRect(0,0,_,k),f.destroy()}function r({width:_,height:k},E,y){const f=ee(e,e);Ce(f.context,0,0,e,e,y),f.context.save(),f.context.translate(e*.5,e*-.5),Ce(f.context,0,0,e,e,y),f.context.restore(),f.context.translate(e*-.5,e*.5),Ce(f.context,0,0,e,e,y);const g=ee(e,e);g.context.translate(e,0),g.context.scale(-1,1),g.context.drawImage(f.canvas,0,0);const L=ee(e,e);L.context.drawImage(f.canvas,0,0),L.context.drawImage(g.canvas,0,0);const D=[f,g,L],G=D.length;for(let x=0;x<_;x+=e)for(let A=0;A<k;A+=e){const J=D[Math.floor(c()*G)];E.drawImage(J.canvas,x,A)}D.forEach(x=>x.destroy())}const a=ee(o,l);a.context.fillStyle="white",a.context.fillRect(0,0,o,l);const m=e*t*.33,p=m*n*2;return r(a.canvas,a.context,p),i(a.canvas,a.context,m),Dt(a.canvas,a.context,s),a.canvas}var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},at={exports:{}};(function(e,t){(function(n,o){o()})(re,function(){function n(r,a){return typeof a>"u"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}function o(r,a,m){var p=new XMLHttpRequest;p.open("GET",r),p.responseType="blob",p.onload=function(){i(p.response,a,m)},p.onerror=function(){console.error("could not download file")},p.send()}function l(r){var a=new XMLHttpRequest;a.open("HEAD",r,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function s(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(a)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof re=="object"&&re.global===re?re:void 0,c=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(r,a,m){var p=u.URL||u.webkitURL,_=document.createElement("a");a=a||r.name||"download",_.download=a,_.rel="noopener",typeof r=="string"?(_.href=r,_.origin===location.origin?s(_):l(_.href)?o(r,a,m):s(_,_.target="_blank")):(_.href=p.createObjectURL(r),setTimeout(function(){p.revokeObjectURL(_.href)},4e4),setTimeout(function(){s(_)},0))}:"msSaveOrOpenBlob"in navigator?function(r,a,m){if(a=a||r.name||"download",typeof r!="string")navigator.msSaveOrOpenBlob(n(r,m),a);else if(l(r))o(r,a,m);else{var p=document.createElement("a");p.href=r,p.target="_blank",setTimeout(function(){s(p)})}}:function(r,a,m,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof r=="string")return o(r,a,m);var _=r.type==="application/octet-stream",k=/constructor/i.test(u.HTMLElement)||u.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||_&&k||c)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var L=y.result;L=E?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=L:location=L,p=null},y.readAsDataURL(r)}else{var f=u.URL||u.webkitURL,g=f.createObjectURL(r);p?p.location=g:location.href=g,p=null,setTimeout(function(){f.revokeObjectURL(g)},4e4)}});u.saveAs=i.saveAs=i,e.exports=i})})(at);var xt=at.exports;function Bt(e){const t=document.createElement("img");return new Promise((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error("Something went wrong with retrieving the image."))},t.src=e})}const ct={normal:"source-over",multiply:"multiply",overlay:"overlay","soft-light":"soft-light","hard-light":"hard-light"},Nt=Object.keys(ct);function Ft(e,t,n){const{canvas:o,context:l,destroy:s}=ee(e,t);for(const c of n.toReversed()){if(c.image==null)return;l.globalAlpha=c.opacity,l.globalCompositeOperation=ct[c.blendingMode],l.drawImage(c.image,0,0)}const u=o.toDataURL("image/png");return s(),u}function Ht(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(null,o)},t)}}function qt(e){let t,n,o,l;const s=e[4].default,u=nt(s,e,e[3],null);let c=[e[2]],i={};for(let r=0;r<c.length;r+=1)i=be(i,c[r]);return{c(){t=v("button"),u&&u.c(),Ze(t,i),Y(t,"primary",e[0]),Y(t,"caution",e[1]),Y(t,"svelte-1bsywng",!0)},m(r,a){j(r,t,a),u&&u.m(t,null),t.autofocus&&t.focus(),n=!0,o||(l=C(t,"click",e[5]),o=!0)},p(r,[a]){u&&u.p&&(!n||a&8)&&rt(u,s,r,r[3],n?lt(s,r[3],a,null):st(r[3]),null),Ze(t,i=Tt(c,[a&4&&r[2]])),Y(t,"primary",r[0]),Y(t,"caution",r[1]),Y(t,"svelte-1bsywng",!0)},i(r){n||(B(u,r),n=!0)},o(r){H(u,r),n=!1},d(r){r&&T(t),u&&u.d(r),o=!1,l()}}}function Gt(e,t,n){let{$$slots:o={},$$scope:l}=t,{primary:s=!1}=t,{caution:u=!1}=t;function c(i){Et.call(this,e,i)}return e.$$set=i=>{n(2,t=be(be({},t),Xe(i))),"primary"in i&&n(0,s=i.primary),"caution"in i&&n(1,u=i.caution),"$$scope"in i&&n(3,l=i.$$scope)},t=Xe(t),[s,u,t,l,o,c]}class Re extends Ie{constructor(t){super(),je(this,t,Gt,qt,Te,{primary:0,caution:1})}}function Vt(e){let t,n,o,l;const s=e[2].default,u=nt(s,e,e[1],null);return{c(){t=w(),u&&u.c()},m(c,i){j(c,t,i),u&&u.m(c,i),n=!0,o||(l=[C(document.body,"dragover",Kt),C(document.body,"dragleave",Wt),C(document.body,"drop",e[0])],o=!0)},p(c,[i]){u&&u.p&&(!n||i&2)&&rt(u,s,c,c[1],n?lt(s,c[1],i,null):st(c[1]),null)},i(c){n||(B(u,c),n=!0)},o(c){H(u,c),n=!1},d(c){c&&T(t),u&&u.d(c),o=!1,q(l)}}}function Kt(e){e.preventDefault(),e.stopPropagation()}function Wt(e){e.preventDefault(),e.stopPropagation()}function Xt(e,t,n){let{$$slots:o={},$$scope:l}=t;const s=wt();function u(i){s("files",i)}function c(i){var r,a;if(i.preventDefault(),i.stopPropagation(),(r=i.dataTransfer)!=null&&r.items){const m=[...i.dataTransfer.items].flatMap((p,_)=>p.kind==="file"?p.getAsFile()??[]:[]);u(m)}else{const m=[...((a=i.dataTransfer)==null?void 0:a.files)??[]].map(p=>p);u(m)}}return e.$$set=i=>{"$$scope"in i&&n(1,l=i.$$scope)},[c,l,o]}class Zt extends Ie{constructor(t){super(),je(this,t,Xt,Vt,Te,{})}}function Jt(e,t,n){const o=e.slice();return o[28]=t[n],o}function Qt(e){let t;return{c(){t=ce("generate")},m(n,o){j(n,t,o)},d(n){n&&T(t)}}}function Yt(e){let t;return{c(){t=ce("save texture")},m(n,o){j(n,t,o)},d(n){n&&T(t)}}}function Se(e){let t,n,o,l,s,u,c,i,r,a,m,p,_,k,E=Rt(Nt),y=[];for(let f=0;f<E.length;f+=1)y[f]=St(Jt(e,E,f));return m=new Re({props:{type:"button",caution:!0,$$slots:{default:[zt]},$$scope:{ctx:e}}}),m.$on("click",e[14]),{c(){t=v("label"),n=v("p"),n.textContent="Blending mode",o=w(),l=v("select");for(let f=0;f<y.length;f+=1)y[f].c();s=w(),u=v("label"),c=v("p"),c.textContent="Opacity",i=w(),r=v("input"),a=w(),_e(m.$$.fragment),e[4]===void 0&&ve(()=>e[26].call(l)),r.value=e[3],h(r,"step",1),h(r,"type","number"),h(r,"min",0),h(r,"max",100),h(r,"class","svelte-18ogzs1")},m(f,g){j(f,t,g),d(t,n),d(t,o),d(t,l);for(let L=0;L<y.length;L+=1)y[L]&&y[L].m(l,null);Je(l,e[4],!0),j(f,s,g),j(f,u,g),d(u,c),d(u,i),d(u,r),j(f,a,g),ue(m,f,g),p=!0,_||(k=[C(l,"change",e[26]),C(r,"input",e[15])],_=!0)},p(f,g){g[0]&16&&Je(l,f[4]),(!p||g[0]&8&&r.value!==f[3])&&(r.value=f[3]);const L={};g[1]&1&&(L.$$scope={dirty:g,ctx:f}),m.$set(L)},i(f){p||(B(m.$$.fragment,f),p=!0)},o(f){H(m.$$.fragment,f),p=!1},d(f){f&&(T(t),T(s),T(u),T(a)),mt(y,f),ie(m,f),_=!1,q(k)}}}function St(e){let t;return{c(){t=v("option"),t.textContent=`${e[28]}`,t.__value=e[28],P(t,t.__value)},m(n,o){j(n,t,o)},p:ye,d(n){n&&T(t)}}}function zt(e){let t;return{c(){t=ce("clear image")},m(n,o){j(n,t,o)},d(n){n&&T(t)}}}function ze(e){let t,n;return{c(){t=v("img"),We(t.src,n=e[10])||h(t,"src",n),h(t,"alt","The cool sonic texture"),h(t,"class","svelte-18ogzs1")},m(o,l){j(o,t,l)},p(o,l){l[0]&1024&&!We(t.src,n=o[10])&&h(t,"src",n)},d(o){o&&T(t)}}}function en(e){let t,n,o,l,s,u,c,i,r,a,m,p,_,k,E,y,f,g,L,D,G,x,A,J,V,ne,fe,$,pe,K,R,$e,U,Pe,W,De,N,Ue,xe,Be,Q,Ne,we,Fe,He,de,Ee,X,Le,oe,me,ke,qe;W=new Re({props:{type:"submit",primary:!0,$$slots:{default:[Qt]},$$scope:{ctx:e}}}),N=new Re({props:{type:"button",$$slots:{default:[Yt]},$$scope:{ctx:e}}}),N.$on("click",e[13]);let M=e[5]&&Se(e);X=new Zt({}),X.$on("files",e[11]);let I=e[10]&&ze(e);return{c(){t=v("details"),n=v("summary"),n.textContent="Options",o=w(),l=v("form"),s=v("label"),u=v("p"),u.textContent="width",c=w(),i=v("input"),r=w(),a=v("label"),m=v("p"),m.textContent="height",p=w(),_=v("input"),k=w(),E=v("label"),y=v("p"),y.textContent="grid size",f=w(),g=v("input"),L=w(),D=v("label"),G=v("p"),G.textContent="dot",x=w(),A=v("input"),J=w(),V=v("label"),ne=v("p"),ne.textContent="line",fe=w(),$=v("input"),pe=w(),K=v("label"),R=v("p"),R.textContent="posterization",$e=w(),U=v("input"),Pe=w(),_e(W.$$.fragment),De=w(),_e(N.$$.fragment),Ue=w(),xe=v("hr"),Be=w(),Q=v("input"),Ne=w(),M&&M.c(),we=w(),Fe=v("hr"),He=w(),de=v("p"),de.innerHTML=`Made by <a href="https://twitter.com/GnarlyNarley" target="_blank" rel="noopener noreferrer">Narley</a>
      with help from
      <a href="https://twitter.com/EroCopi" rel="noopener noreferrer">thehumancopier</a>, get
      <a href="https://thehumancopier.gumroad.com/l/crvee" rel="noopener noreferrer">here</a> his action for Clip Studio Paint.`,Ee=w(),_e(X.$$.fragment),Le=w(),I&&I.c(),oe=ht(),h(i,"type","number"),h(i,"class","svelte-18ogzs1"),h(_,"type","number"),h(_,"class","svelte-18ogzs1"),h(g,"step",1),h(g,"type","range"),h(g,"min",5),h(g,"max",80),h(g,"class","svelte-18ogzs1"),h(A,"step",.1),h(A,"type","range"),h(A,"min",0),h(A,"max",1),h(A,"class","svelte-18ogzs1"),h($,"step",.1),h($,"type","range"),h($,"min",0),h($,"max",1),h($,"class","svelte-18ogzs1"),h(U,"step",1),h(U,"type","range"),h(U,"min",1),h(U,"max",5),h(U,"class","svelte-18ogzs1"),h(Q,"type","file"),h(Q,"accept","image/*"),h(Q,"class","svelte-18ogzs1"),h(de,"class","credits svelte-18ogzs1"),h(l,"class","svelte-18ogzs1"),h(t,"class","controls svelte-18ogzs1"),t.open=!0},m(b,O){j(b,t,O),d(t,n),d(t,o),d(t,l),d(l,s),d(s,u),d(s,c),d(s,i),P(i,e[1]),d(l,r),d(l,a),d(a,m),d(a,p),d(a,_),P(_,e[2]),d(l,k),d(l,E),d(E,y),d(E,f),d(E,g),P(g,e[6]),d(l,L),d(l,D),d(D,G),d(D,x),d(D,A),P(A,e[7]),d(l,J),d(l,V),d(V,ne),d(V,fe),d(V,$),P($,e[8]),d(l,pe),d(l,K),d(K,R),d(K,$e),d(K,U),P(U,e[9]),d(l,Pe),ue(W,l,null),d(l,De),ue(N,l,null),d(l,Ue),d(l,xe),d(l,Be),d(l,Q),d(l,Ne),M&&M.m(l,null),d(l,we),d(l,Fe),d(l,He),d(l,de),j(b,Ee,O),ue(X,b,O),j(b,Le,O),I&&I.m(b,O),j(b,oe,O),me=!0,ke||(qe=[C(i,"input",e[19]),C(_,"input",e[20]),C(g,"change",e[21]),C(g,"input",e[21]),C(A,"change",e[22]),C(A,"input",e[22]),C($,"change",e[23]),C($,"input",e[23]),C(U,"change",e[24]),C(U,"input",e[24]),C(Q,"change",e[25]),C(l,"submit",e[12])],ke=!0)},p(b,O){O[0]&2&&F(i.value)!==b[1]&&P(i,b[1]),O[0]&4&&F(_.value)!==b[2]&&P(_,b[2]),O[0]&64&&P(g,b[6]),O[0]&128&&P(A,b[7]),O[0]&256&&P($,b[8]),O[0]&512&&P(U,b[9]);const Ge={};O[1]&1&&(Ge.$$scope={dirty:O,ctx:b}),W.$set(Ge);const Ve={};O[1]&1&&(Ve.$$scope={dirty:O,ctx:b}),N.$set(Ve),b[5]?M?(M.p(b,O),O[0]&32&&B(M,1)):(M=Se(b),M.c(),B(M,1),M.m(l,we)):M&&(Ct(),H(M,1,1,()=>{M=null}),At()),b[10]?I?I.p(b,O):(I=ze(b),I.c(),I.m(oe.parentNode,oe)):I&&(I.d(1),I=null)},i(b){me||(B(W.$$.fragment,b),B(N.$$.fragment,b),B(M),B(X.$$.fragment,b),me=!0)},o(b){H(W.$$.fragment,b),H(N.$$.fragment,b),H(M),H(X.$$.fragment,b),me=!1},d(b){b&&(T(t),T(Ee),T(Le),T(oe)),ie(W),ie(N),M&&M.d(),ie(X,b),I&&I.d(b),ke=!1,q(qe)}}}function tn(e,t,n){let o,l,s=null,u=10,c=.7,i=.5,r=500,a=500,m=2,p,_=20,k="overlay",E=null,y=null;function f(R){n(0,s=null),n(18,o=R.detail.at(0)??null)}async function g(){const R=Math.random().toString();n(16,p=Ut({gridSize:u,dotScale:c,lineScale:i,width:r,height:a,seed:R,posterizationRange:m}))}function L(R){R.preventDefault(),g()}function D(){const R=p.toDataURL("image/png");xt.saveAs(R,"texture.png")}function G(){n(0,s=null),n(18,o=null)}const x=Ht(R=>{n(3,_=R.target.value)});vt(()=>g());function A(){r=F(this.value),n(1,r),n(17,y),n(18,o),n(0,s)}function J(){a=F(this.value),n(2,a),n(17,y),n(18,o),n(0,s)}function V(){u=F(this.value),n(6,u)}function ne(){c=F(this.value),n(7,c)}function fe(){i=F(this.value),n(8,i)}function $(){m=F(this.value),n(9,m)}function pe(){s=this.files,n(0,s)}function K(){k=yt(this),n(4,k)}return e.$$.update=()=>{e.$$.dirty[0]&1&&n(18,o=(s==null?void 0:s[0])??null),e.$$.dirty[0]&393216&&(y&&URL.revokeObjectURL(y),o?n(17,y=URL.createObjectURL(o)):(n(17,y=null),n(5,E=null)),y&&Bt(y).then(R=>{n(5,E=R),n(1,r=R.width),n(2,a=R.height),g()})),e.$$.dirty[0]&65598&&n(10,l=Ft(r,a,E?[{image:p,opacity:_/100,blendingMode:k},{image:E,opacity:1,blendingMode:"normal"}]:[{image:p,opacity:1,blendingMode:"normal"}]))},[s,r,a,_,k,E,u,c,i,m,l,f,L,D,G,x,p,y,o,A,J,V,ne,fe,$,pe,K]}class nn extends Ie{constructor(t){super(),je(this,t,tn,en,Te,{},null,[-1,-1])}}new nn({target:document.getElementById("app")});
