var ft=Object.defineProperty;var dt=(t,e,n)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>(dt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const w of u.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&l(w)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function H(){}function at(t){return t()}function lt(){return Object.create(null)}function G(t){t.forEach(at)}function ct(t){return typeof t=="function"}function pt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ht(t){return Object.keys(t).length===0}function i(t,e){t.appendChild(e)}function Z(t,e,n){t.insertBefore(e,n||null)}function J(t){t.parentNode&&t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function mt(t){return document.createTextNode(t)}function k(){return mt(" ")}function I(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function j(t){return t===""?null:+t}function _t(t){return Array.from(t.childNodes)}function N(t,e){t.value=e??""}let q;function W(t){q=t}function gt(){if(!q)throw new Error("Function called outside component initialization");return q}function bt(t){gt().$$.on_mount.push(t)}const B=[],z=[];let F=[];const ut=[],yt=Promise.resolve();let tt=!1;function wt(){tt||(tt=!0,yt.then(st))}function et(t){F.push(t)}const S=new Set;let U=0;function st(){if(U!==0)return;const t=q;do{try{for(;U<B.length;){const e=B[U];U++,W(e),vt(e.$$)}}catch(e){throw B.length=0,U=0,e}for(W(null),B.length=0,U=0;z.length;)z.pop()();for(let e=0;e<F.length;e+=1){const n=F[e];S.has(n)||(S.add(n),n())}F.length=0}while(B.length);for(;ut.length;)ut.pop()();tt=!1,S.clear(),W(t)}function vt(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}function $t(t){const e=[],n=[];F.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),F=e}const xt=new Set;function Ct(t,e){t&&t.i&&(xt.delete(t),t.i(e))}function kt(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),et(()=>{const u=t.$$.on_mount.map(at).filter(ct);t.$$.on_destroy?t.$$.on_destroy.push(...u):G(u),t.$$.on_mount=[]}),o.forEach(et)}function Et(t,e){const n=t.$$;n.fragment!==null&&($t(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){t.$$.dirty[0]===-1&&(B.push(t),wt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ot(t,e,n,l,o,u,w=null,$=[-1]){const g=q;W(t);const a=t.$$={fragment:null,ctx:[],props:u,update:H,not_equal:o,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(g?g.$$.context:[])),callbacks:lt(),dirty:$,skip_bound:!1,root:e.target||g.$$.root};w&&w(a.root);let m=!1;if(a.ctx=n?n(t,e.props||{},(v,E,...M)=>{const P=M.length?M[0]:E;return a.ctx&&o(a.ctx[v],a.ctx[v]=P)&&(!a.skip_bound&&a.bound[v]&&a.bound[v](P),m&&Lt(t,v)),E}):[],a.update(),m=!0,G(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const v=_t(e.target);a.fragment&&a.fragment.l(v),v.forEach(J)}else a.fragment&&a.fragment.c();e.intro&&Ct(t.$$.fragment),kt(t,e.target,e.anchor),st()}W(g)}class Mt{constructor(){Y(this,"$$");Y(this,"$$set")}$destroy(){Et(this,1),this.$destroy=H}$on(e,n){if(!ct(n))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!ht(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pt);function it(t){if(t==null)throw new Error("Value is nullish.")}function It(t){for(var e=0,n=2166136261;e<t.length;e++)n=Math.imul(n^t.charCodeAt(e),16777619);n+=n<<13,n^=n>>>7,n+=n<<3,n^=n>>>17;let l=(n+=n<<5)>>>0,o=()=>(2**31-1&(l=Math.imul(48271,l)))/2**31;return o(),o}function Nt({canvas:t,gridSize:e,dotScale:n,lineWidth:l,width:o,height:u,seed:w}){const $=It(w);function g(c,s){const p=document.createElement("canvas"),r=p.getContext("2d");if(p.width=c,p.height=s,!r)throw new Error("Could not create context.");return{canvas:p,context:r,width:c,height:s}}function a(c,s,p,r){c.fillStyle="black",c.beginPath(),c.arc(s,p,r,0,Math.PI*2),c.closePath(),c.fill()}function m(c,s,p,r,f,d){c.lineWidth=d,c.strokeStyle="black",c.beginPath(),c.moveTo(s,p),c.lineTo(r,f),c.stroke()}function v({width:c,height:s},p,r,f){const d=r*f/2,y=g(r,r);a(y.context,0,0,d),a(y.context,r,0,d),a(y.context,0,r,d),a(y.context,r,r,d),a(y.context,r*.5,r*.5,d);const L=p.createPattern(y.canvas,"repeat");it(L),p.fillStyle=L,p.fillRect(0,0,c,s)}function E({width:c,height:s},p,r,f){const d=g(r,r);m(d.context,0,0,r,r,f),m(d.context,0,r,r,0,f);const y=g(r,r);m(y.context,0,0,r,r,f);const L=g(r,r);m(L.context,0,r,r,0,f);const T=[d,y,L];for(let x=0;x<c;x+=r)for(let R=0;R<s;R+=r){const O=T[Math.floor($()*3)];p.drawImage(O.canvas,x,R)}}function M(c,s,p){const r=s.getImageData(0,0,c.width,c.height),f=r.data;for(let d=0;d<f.length;d+=4){const y=f[d+0],L=f[d+1],T=f[d+2],x=f[d+3],R=(y+L+T)/3,O=Math.round(R/255*p)*255/p;f[d+0]=O,f[d+1]=O,f[d+2]=O,f[d+3]=Math.round(x/255)*255}s.putImageData(r,0,0)}const P=t.getContext("2d");it(P),t.width=o,t.height=u;const h=g(o,u);h.context.fillStyle="white",h.context.fillRect(0,0,o,u),E(h.canvas,h.context,e,l*e/2),v(h.canvas,h.context,e,n),M(h.canvas,h.context,5),P.drawImage(h.canvas,0,0,t.width,t.height)}function At(t){const e=document.createElement("a");e.setAttribute("download",t.name);const n=URL.createObjectURL(t);e.href=n,e.onclick=()=>{},e.click(),URL.revokeObjectURL(n),e.remove()}function Rt(t){let e,n,l,o,u,w,$,g,a,m,v,E,M,P,h,c,s,p,r,f,d,y,L,T,x,R,O,nt,D,ot,K,Q,V,X,rt;return{c(){e=_("div"),n=_("label"),l=_("p"),l.textContent="grid size",o=k(),u=_("input"),w=k(),$=_("label"),g=_("p"),g.textContent="dot",a=k(),m=_("input"),v=k(),E=_("label"),M=_("p"),M.textContent="line",P=k(),h=_("input"),c=k(),s=_("label"),p=_("p"),p.textContent="width",r=k(),f=_("input"),d=k(),y=_("label"),L=_("p"),L.textContent="height",T=k(),x=_("input"),R=k(),O=_("button"),O.textContent="generate",nt=k(),D=_("button"),D.textContent="save texture",ot=k(),K=_("p"),K.innerHTML=`Made by <a href="https://twitter.com/GnarlyNarley" target="_blank" rel="noopener noreferrer">Narley</a>
    with help from
    <a href="https://twitter.com/EroCopi" rel="noopener noreferrer">thehumancopier</a>, get
    <a href="https://thehumancopier.gumroad.com/l/crvee" rel="noopener noreferrer">here</a> his action for Clip Studio Paint.`,Q=k(),V=_("canvas"),b(u,"step",1),b(u,"type","range"),b(u,"min",5),b(u,"max",80),b(m,"step",.1),b(m,"type","range"),b(m,"min",1),b(m,"max",10),b(h,"step",.1),b(h,"type","range"),b(h,"min",0),b(h,"max",5),b(f,"type","number"),b(x,"type","number"),b(O,"type","button"),b(D,"type","button"),b(K,"class","credits svelte-1d1kf9u"),b(e,"class","svelte-1d1kf9u"),b(V,"class","svelte-1d1kf9u")},m(C,A){Z(C,e,A),i(e,n),i(n,l),i(n,o),i(n,u),N(u,t[0]),i(e,w),i(e,$),i($,g),i($,a),i($,m),N(m,t[2]),i(e,v),i(e,E),i(E,M),i(E,P),i(E,h),N(h,t[3]),i(e,c),i(e,s),i(s,p),i(s,r),i(s,f),N(f,t[4]),i(e,d),i(e,y),i(y,L),i(y,T),i(y,x),N(x,t[5]),i(e,R),i(e,O),i(e,nt),i(e,D),i(e,ot),i(e,K),Z(C,Q,A),Z(C,V,A),t[13](V),X||(rt=[I(u,"change",t[8]),I(u,"input",t[8]),I(m,"change",t[9]),I(m,"input",t[9]),I(h,"change",t[10]),I(h,"input",t[10]),I(f,"input",t[11]),I(x,"input",t[12]),I(O,"click",t[6]),I(D,"click",t[7])],X=!0)},p(C,[A]){A&1&&N(u,C[0]),A&4&&N(m,C[2]),A&8&&N(h,C[3]),A&16&&j(f.value)!==C[4]&&N(f,C[4]),A&32&&j(x.value)!==C[5]&&N(x,C[5])},i:H,o:H,d(C){C&&(J(e),J(Q),J(V)),t[13](null),X=!1,G(rt)}}}function jt(t,e,n){let l,o=20,u=5,w=4,$=1920,g=1080;function a(){if(!l)return;const s=Math.random().toString();Nt({canvas:l,gridSize:o,dotScale:u/10,lineWidth:w/10,width:$,height:g,seed:s})}function m(){l&&l.toBlob(s=>{if(!s)return;const p=new File([s],"texture.png");At(p)},"image/png")}bt(()=>a());function v(){o=j(this.value),n(0,o)}function E(){u=j(this.value),n(2,u)}function M(){w=j(this.value),n(3,w)}function P(){$=j(this.value),n(4,$)}function h(){g=j(this.value),n(5,g)}function c(s){z[s?"unshift":"push"](()=>{l=s,n(1,l)})}return t.$$.update=()=>{t.$$.dirty&1&&console.log(o)},[o,l,u,w,$,g,a,m,v,E,M,P,h,c]}class Tt extends Mt{constructor(e){super(),Ot(this,e,jt,Rt,pt,{})}}new Tt({target:document.getElementById("app")});
